<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>01 Your First Test in 15 Minutes</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github-dark.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <style>
        :root {
            --primary: #6366f1;
            --primary-dark: #4f46e5;
            --secondary: #8b5cf6;
            --bg-main: #0f172a;
            --bg-card: #1e293b;
            --bg-code: #0f172a;
            --text-primary: #f1f5f9;
            --text-secondary: #94a3b8;
            --border: #334155;
            --accent: #06b6d4;
            --success: #10b981;
        }
        
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body { 
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            line-height: 1.7; 
            color: var(--text-primary); 
            background: var(--bg-main);
        }
        
        .container { 
            max-width: 1200px; 
            margin: 0 auto; 
            padding: 20px; 
        }
        
        .home-btn { 
            position: fixed; 
            top: 20px; 
            right: 20px; 
            background: var(--accent);
            color: white; 
            width: 50px;
            height: 50px;
            border-radius: 50%;
            text-decoration: none; 
            z-index: 1000;
            box-shadow: 0 4px 20px rgba(6, 182, 212, 0.4);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            font-size: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .home-btn:hover { 
            background: #0891b2;
            transform: translateY(-2px);
            box-shadow: 0 8px 30px rgba(6, 182, 212, 0.5);
        }
        
        .breadcrumb { 
            background: var(--bg-card);
            padding: 12px 0; 
            margin-bottom: 24px; 
            font-size: 14px;
            border-radius: 8px;
            border: 1px solid var(--border);
        }
        
        .breadcrumb a { 
            color: var(--accent);
            text-decoration: none;
            transition: color 0.2s;
        }
        
        .breadcrumb a:hover { 
            color: var(--primary);
            text-decoration: underline;
        }
        
        .content { 
            background: var(--bg-card);
            padding: 3rem; 
            border-radius: 16px; 
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
            border: 1px solid var(--border);
        }
        
        .file-list { 
            display: grid; 
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); 
            gap: 1.5rem; 
            margin: 2rem 0; 
        }
        
        .file-item { 
            padding: 1.5rem; 
            border: 1px solid var(--border);
            border-radius: 12px; 
            background: var(--bg-main);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
        }
        
        .file-item::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 3px;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            opacity: 0;
            transition: opacity 0.3s;
        }
        
        .file-item:hover { 
            transform: translateY(-4px); 
            box-shadow: 0 8px 30px rgba(99, 102, 241, 0.3);
            border-color: var(--primary);
        }
        
        .file-item:hover::before {
            opacity: 1;
        }
        
        .file-item a { 
            color: var(--text-primary);
            text-decoration: none; 
            font-weight: 600; 
            display: block;
            font-size: 1.1rem;
        }
        
        .file-item a:hover { 
            color: var(--primary);
        }
        
        .file-type { 
            font-size: 13px; 
            color: var(--text-secondary);
            margin-top: 8px; 
            font-weight: 500;
        }
        
        /* Code Blocks */
        pre { 
            background: var(--bg-code);
            padding: 1.5rem; 
            border-radius: 12px; 
            overflow-x: auto;
            border: 1px solid var(--border);
            margin: 1.5rem 0;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
            position: relative;
        }
        
        pre code { 
            background: none;
            padding: 0;
            font-family: 'Fira Code', 'Consolas', monospace;
            font-size: 0.9em;
            line-height: 1.6;
        }
        
        /* Copy Button */
        .copy-btn {
            position: absolute;
            top: 8px;
            right: 8px;
            background: var(--primary);
            color: white;
            border: none;
            padding: 6px 12px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 12px;
            font-weight: 600;
            transition: all 0.2s;
            opacity: 0.7;
            z-index: 10;
        }
        
        .copy-btn:hover {
            opacity: 1;
            background: var(--primary-dark);
            transform: translateY(-1px);
        }
        
        .copy-btn.copied {
            background: var(--success);
        }
        
        pre:hover .copy-btn {
            opacity: 1;
        }
        
        /* Inline Code */
        code { 
            background: var(--bg-code);
            color: #8b5cf6;
            padding: 3px 8px; 
            border-radius: 6px; 
            font-size: 1.1em;
            font-family: 'Fira Code', 'Consolas', monospace;
            border: 1px solid var(--border);
        }
        
        /* Headings */
        h1, h2, h3, h4, h5, h6 { 
            color: var(--text-primary);
            margin: 2rem 0 1rem 0;
            font-weight: 700;
            letter-spacing: -0.5px;
        }
        
        h1 { 
            font-size: 2.5rem;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            border-bottom: 3px solid var(--primary);
            padding-bottom: 12px;
            margin-bottom: 1.5rem;
        }
        
        h2 { 
            font-size: 2rem;
            color: var(--primary);
            border-bottom: 2px solid var(--border);
            padding-bottom: 8px;
        }
        
        h3 { 
            font-size: 1.5rem;
            color: var(--accent);
        }
        
        /* Links */
        a { 
            color: var(--accent);
            transition: color 0.2s;
        }
        
        a:hover { 
            color: var(--primary);
        }
        
        /* Paragraphs */
        p {
            margin: 1rem 0;
            color: var(--text-secondary);
        }
        
        /* Lists */
        ul, ol {
            margin: 1rem 0;
            padding-left: 2rem;
            color: var(--text-secondary);
        }
        
        li {
            margin: 0.5rem 0;
        }
        
        /* Tables */
        table { 
            border-collapse: collapse;
            width: 100%;
            margin: 1.5rem 0;
            background: var(--bg-main);
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
        }
        
        th, td { 
            border: 1px solid var(--border);
            padding: 12px 16px;
            text-align: left;
        }
        
        th { 
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            font-weight: 600;
        }
        
        tr:hover {
            background: var(--bg-card);
        }
        
        /* Blockquotes */
        blockquote {
            border-left: 4px solid var(--primary);
            padding: 1rem 1.5rem;
            margin: 1.5rem 0;
            background: var(--bg-main);
            border-radius: 0 8px 8px 0;
            color: var(--text-secondary);
            font-style: italic;
        }
        
        /* Horizontal Rule */
        hr {
            border: none;
            border-top: 2px solid var(--border);
            margin: 2rem 0;
        }
        
        .footer { 
            text-align: center; 
            padding: 2rem; 
            color: var(--text-secondary);
            border-top: 1px solid var(--border);
            margin-top: 3rem; 
            font-size: 14px;
        }
        
        /* Scrollbar */
        ::-webkit-scrollbar {
            width: 12px;
            height: 12px;
        }
        
        ::-webkit-scrollbar-track {
            background: var(--bg-main);
        }
        
        ::-webkit-scrollbar-thumb {
            background: var(--border);
            border-radius: 6px;
        }
        
        ::-webkit-scrollbar-thumb:hover {
            background: var(--primary);
        }
        
        @media (max-width: 768px) {
            .container { padding: 10px; }
            .file-list { grid-template-columns: 1fr; }
            .content { padding: 1.5rem; }
            h1 { font-size: 2rem; }
            h2 { font-size: 1.5rem; }
        }
    </style>
</head>
<body>
    <a href="../index.html" class="home-btn">üè†</a>
    <div class="container">
        <div class="breadcrumb">
            <div style="padding: 0 20px;">
                <a href="../index.html">üè† Home</a> <span style="color: #64748b;">/</span> <a href="index.html">01 Getting Started</a>
            </div>
        </div>
        <div class="content">
            <h1 id="chapter-1-your-first-test-in-15-minutes">Chapter 1: Your First Test in 15 Minutes</h1>
<h2 id="why-we-test-the-quick-case">Why We Test (The Quick Case)</h2>
<h2 id="why-we-test-the-quick-case_1">Why We Test (The Quick Case)</h2>
<p>Welcome to the world of automated testing. Before we write a single line of code, let's answer the most important question: Why bother?</p>
<p>You might think testing is about finding bugs. That's part of it, but it's not the main goal. The primary purpose of a good test suite is to give you <strong>confidence</strong>.</p>
<ul>
<li><strong>Confidence to ship:</strong> Know that your application works as expected before your users discover it doesn't.</li>
<li><strong>Confidence to refactor:</strong> Clean up, optimize, and improve your code without fear of breaking something. A solid test suite is a safety net that lets you move fast and make bold changes.</li>
<li><strong>Confidence to collaborate:</strong> Work on a team knowing that your changes haven't broken a colleague's code, and vice-versa.</li>
</ul>
<p>Tests are not a tax you pay on development; they are a tool that accelerates it. They are living documentation of what your code is supposed to do, and they are the first line of defense against regressions‚Äîbugs that reappear in code that once worked.</p>
<p>In this chapter, we will go from an empty folder to a working, automated test in just a few minutes. Let's begin.</p>
<h2 id="installing-pytest">Installing Pytest</h2>
<h2 id="installing-pytest_1">Installing Pytest</h2>
<p>First, let's set up our project. A clean, organized structure is the foundation of any good project. We'll create a simple layout that separates our application code from our test code.</p>
<h3 id="project-structure">Project Structure</h3>
<p>Create a root folder for your project (e.g., <code>pytest_project</code>) and set up the following structure inside it:</p>
<div class="codehilite"><pre><span></span><code>pytest_project/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îî‚îÄ‚îÄ __init__.py
‚îÇ   ‚îî‚îÄ‚îÄ validation.py
‚îî‚îÄ‚îÄ tests/
    ‚îî‚îÄ‚îÄ __init__.py
    ‚îî‚îÄ‚îÄ test_validation.py
</code></pre></div>

<ul>
<li><code>src/</code>: This will hold our main application code.</li>
<li><code>tests/</code>: This is where all our test files will live.</li>
<li><code>__init__.py</code>: These empty files tell Python to treat these directories as packages, which is important for imports.</li>
</ul>
<h3 id="setting-up-a-virtual-environment">Setting Up a Virtual Environment</h3>
<p>It's a critical best practice to use a virtual environment for every Python project. This isolates your project's dependencies from your system's Python installation.</p>
<p>Open your terminal, navigate to your project's root directory (<code>pytest_project</code>), and run the following commands:</p>
<div class="codehilite"><pre><span></span><code><span class="c1"># Create a virtual environment named &#39;venv&#39;</span>
python<span class="w"> </span>-m<span class="w"> </span>venv<span class="w"> </span>venv

<span class="c1"># Activate the virtual environment</span>
<span class="c1"># On macOS/Linux:</span>
<span class="nb">source</span><span class="w"> </span>venv/bin/activate

<span class="c1"># On Windows:</span>
<span class="c1"># venv\Scripts\activate</span>
</code></pre></div>

<p>You'll know it's active when you see <code>(venv)</code> at the beginning of your terminal prompt.</p>
<h3 id="installing-pytest_2">Installing Pytest</h3>
<p>With your virtual environment active, installing pytest is a single command using <code>pip</code>, Python's package installer.</p>
<div class="codehilite"><pre><span></span><code>pip<span class="w"> </span>install<span class="w"> </span>pytest
</code></pre></div>

<p>That's it. Pytest is now installed and ready to use in your project. You can verify the installation by checking its version.</p>
<div class="codehilite"><pre><span></span><code>pytest<span class="w"> </span>--version
</code></pre></div>

<p>You should see output similar to this (your version number may be higher):</p>
<div class="codehilite"><pre><span></span><code>pytest 7.4.2
</code></pre></div>

<h2 id="writing-your-first-test-function">Writing Your First Test Function</h2>
<h2 id="writing-your-first-test-function_1">Writing Your First Test Function</h2>
<p>Now for the exciting part: writing code. We'll start with a simple function to test and then write a test for it. This function will be our <strong>anchor example</strong> for this chapter.</p>
<h3 id="the-application-code">The Application Code</h3>
<p>Let's create a simple email validation function. It's not perfect, but it's a great starting point.</p>
<p>Add the following code to the <code>src/validation.py</code> file:</p>
<div class="codehilite"><pre><span></span><code><span class="c1"># src/validation.py</span>

<span class="k">def</span><span class="w"> </span><span class="nf">validate_email</span><span class="p">(</span><span class="n">email</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Checks if the provided string is a valid email address.</span>
<span class="sd">    A valid email must contain exactly one &#39;@&#39; symbol.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">email</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="s2">&quot;@&quot;</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">True</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">False</span>
</code></pre></div>

<p>This function is straightforward: it returns <code>True</code> if the input string contains exactly one <code>@</code> symbol, and <code>False</code> otherwise.</p>
<h3 id="the-test-code">The Test Code</h3>
<p>Now, let's write a test to verify the "happy path"‚Äîa case where the function should return <code>True</code>.</p>
<p>Add the following code to the <code>tests/test_validation.py</code> file:</p>
<div class="codehilite"><pre><span></span><code><span class="c1"># tests/test_validation.py</span>

<span class="kn">from</span><span class="w"> </span><span class="nn">src.validation</span><span class="w"> </span><span class="kn">import</span> <span class="n">validate_email</span>

<span class="k">def</span><span class="w"> </span><span class="nf">test_validate_email_with_valid_email</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Tests the validate_email function with a correct email address.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Setup: Define a valid email</span>
    <span class="n">email</span> <span class="o">=</span> <span class="s2">&quot;test@example.com&quot;</span>

    <span class="c1"># Action: Call the function we are testing</span>
    <span class="n">result</span> <span class="o">=</span> <span class="n">validate_email</span><span class="p">(</span><span class="n">email</span><span class="p">)</span>

    <span class="c1"># Assertion: Check if the result is what we expect</span>
    <span class="k">assert</span> <span class="n">result</span> <span class="ow">is</span> <span class="kc">True</span>
</code></pre></div>

<h3 id="anatomy-of-a-pytest-test">Anatomy of a Pytest Test</h3>
<p>Let's break down what we just wrote. It looks like a normal Python function, but a few conventions make it a pytest test:</p>
<ol>
<li><strong>File Naming:</strong> The test file is named <code>test_validation.py</code>. Pytest automatically discovers test files that start with <code>test_</code> or end with <code>_test.py</code>.</li>
<li><strong>Function Naming:</strong> The test function is named <code>test_validate_email_with_valid_email</code>. Pytest discovers test functions that are prefixed with <code>test_</code>.</li>
<li><strong>The <code>assert</code> Statement:</strong> This is the heart of the test. <code>assert</code> is a standard Python keyword. Pytest supercharges it to provide incredibly detailed output when the condition following it is <code>False</code>. Here, we are asserting that the <code>result</code> of our function call is <code>True</code>. If it is, the test passes. If it's anything else, the test fails.</li>
</ol>
<h2 id="running-your-first-test">Running Your First Test</h2>
<h2 id="running-your-first-test_1">Running Your First Test</h2>
<p>With our application code and test code in place, running the test is incredibly simple. Make sure your terminal is in the root directory of your project (<code>pytest_project</code>) and your virtual environment is active.</p>
<p>Then, just run the <code>pytest</code> command:</p>
<div class="codehilite"><pre><span></span><code>pytest
</code></pre></div>

<p>Pytest will automatically scan your directories, find the <code>tests/test_validation.py</code> file, identify the <code>test_validate_email_with_valid_email</code> function inside it, execute the function, and report the results.</p>
<p>You should see output that looks like this:</p>
<div class="codehilite"><pre><span></span><code><span class="o">=============================</span><span class="w"> </span><span class="nb">test</span><span class="w"> </span>session<span class="w"> </span><span class="nv">starts</span><span class="w"> </span><span class="o">==============================</span>
platform<span class="w"> </span>linux<span class="w"> </span>--<span class="w"> </span>Python<span class="w"> </span><span class="m">3</span>.10.12,<span class="w"> </span>pytest-7.4.2,<span class="w"> </span>pluggy-1.3.0
rootdir:<span class="w"> </span>/path/to/your/pytest_project
collected<span class="w"> </span><span class="m">1</span><span class="w"> </span>item

tests/test_validation.py<span class="w"> </span>.<span class="w">                                               </span><span class="o">[</span><span class="m">100</span>%<span class="o">]</span>

<span class="o">==============================</span><span class="w"> </span><span class="m">1</span><span class="w"> </span>passed<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="m">0</span>.01s<span class="w"> </span><span class="o">===============================</span>
</code></pre></div>

<p>Congratulations! You've just written and run your first automated test.</p>
<p>Let's break down the output:
-   <strong>Header:</strong> Shows your environment details (Python version, pytest version, etc.).
-   <strong><code>rootdir</code>:</strong> The directory where pytest started its search.
-   <strong><code>collected 1 item</code>:</strong> Pytest found one test function to run.
-   <strong><code>tests/test_validation.py .</code>:</strong> This line shows the progress. It lists the file being tested, and the <code>.</code> (dot) means one test in that file passed.
-   <strong>Summary:</strong> <code>1 passed in 0.01s</code> gives you the final count and the total time taken.</p>
<p>A passing test is great, but the real power of a testing framework is revealed when a test <em>fails</em>.</p>
<h2 id="understanding-test-results">Understanding Test Results</h2>
<h2 id="understanding-test-results_1">Understanding Test Results</h2>
<p>A test that never fails isn't very useful. Let's intentionally break our code to see what a pytest failure report looks like and how to use it to diagnose the problem. This is the core workflow of test-driven development: Red, Green, Refactor.</p>
<h3 id="iteration-1-introducing-a-bug">Iteration 1: Introducing a Bug</h3>
<p>Let's introduce a subtle bug into our <code>validate_email</code> function. Imagine a developer mistakenly thinks all professional emails must end in <code>.com</code>.</p>
<p>Modify <code>src/validation.py</code> to look like this:</p>
<div class="codehilite"><pre><span></span><code><span class="c1"># src/validation.py (with a bug)</span>

<span class="k">def</span><span class="w"> </span><span class="nf">validate_email</span><span class="p">(</span><span class="n">email</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Checks if the provided string is a valid email address.</span>
<span class="sd">    A valid email must contain exactly one &#39;@&#39; symbol AND end with &#39;.com&#39;.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># This logic is now incorrect!</span>
    <span class="k">if</span> <span class="n">email</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="s2">&quot;@&quot;</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span> <span class="ow">and</span> <span class="n">email</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;.com&quot;</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">True</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">False</span>
</code></pre></div>

<p>Our original test used <code>test@example.com</code>, which happens to satisfy this new, incorrect logic. Let's update our test to use an email address that <em>should</em> be valid but will fail our new buggy code, like <code>test@example.org</code>.</p>
<p>Update <code>tests/test_validation.py</code>:</p>
<div class="codehilite"><pre><span></span><code><span class="c1"># tests/test_validation.py (updated to expose the bug)</span>

<span class="kn">from</span><span class="w"> </span><span class="nn">src.validation</span><span class="w"> </span><span class="kn">import</span> <span class="n">validate_email</span>

<span class="k">def</span><span class="w"> </span><span class="nf">test_validate_email_with_valid_email</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Tests the validate_email function with a correct email address.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Setup: A valid email that does not end in .com</span>
    <span class="n">email</span> <span class="o">=</span> <span class="s2">&quot;test@example.org&quot;</span>

    <span class="c1"># Action: Call the function we are testing</span>
    <span class="n">result</span> <span class="o">=</span> <span class="n">validate_email</span><span class="p">(</span><span class="n">email</span><span class="p">)</span>

    <span class="c1"># Assertion: We still expect True, but the buggy function will return False</span>
    <span class="k">assert</span> <span class="n">result</span> <span class="ow">is</span> <span class="kc">True</span>
</code></pre></div>

<p>Now, run <code>pytest</code> again from your project's root directory.</p>
<div class="codehilite"><pre><span></span><code>pytest
</code></pre></div>

<p>This time, the test fails, and pytest gives us a rich, detailed report.</p>
<h3 id="diagnostic-analysis-reading-the-failure">Diagnostic Analysis: Reading the Failure</h3>
<p><strong>The complete output</strong>:</p>
<div class="codehilite"><pre><span></span><code><span class="o">=============================</span><span class="w"> </span><span class="nb">test</span><span class="w"> </span>session<span class="w"> </span><span class="nv">starts</span><span class="w"> </span><span class="o">==============================</span>
platform<span class="w"> </span>linux<span class="w"> </span>--<span class="w"> </span>Python<span class="w"> </span><span class="m">3</span>.10.12,<span class="w"> </span>pytest-7.4.2,<span class="w"> </span>pluggy-1.3.0
rootdir:<span class="w"> </span>/path/to/your/pytest_project
collected<span class="w"> </span><span class="m">1</span><span class="w"> </span>item

tests/test_validation.py<span class="w"> </span>F<span class="w">                                               </span><span class="o">[</span><span class="m">100</span>%<span class="o">]</span>

<span class="o">===================================</span><span class="w"> </span><span class="nv">FAILURES</span><span class="w"> </span><span class="o">===================================</span>
___________________<span class="w"> </span>test_validate_email_with_valid_email<span class="w"> </span>___________________

<span class="w">    </span>def<span class="w"> </span>test_validate_email_with_valid_email<span class="o">()</span>:
<span class="w">        </span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">        Tests the validate_email function with a correct email address.</span>
<span class="s2">        &quot;&quot;&quot;</span>
<span class="w">        </span><span class="c1"># Setup: A valid email that does not end in .com</span>
<span class="w">        </span><span class="nv">email</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;test@example.org&quot;</span>

<span class="w">        </span><span class="c1"># Action: Call the function we are testing</span>
<span class="w">        </span><span class="nv">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>validate_email<span class="o">(</span>email<span class="o">)</span>

<span class="w">        </span><span class="c1"># Assertion: We still expect True, but the buggy function will return False</span>
&gt;<span class="w">       </span>assert<span class="w"> </span>result<span class="w"> </span>is<span class="w"> </span>True
E<span class="w">       </span>assert<span class="w"> </span>False<span class="w"> </span>is<span class="w"> </span>True

tests/test_validation.py:13:<span class="w"> </span><span class="nv">AssertionError</span>
<span class="o">===========================</span><span class="w"> </span>short<span class="w"> </span><span class="nb">test</span><span class="w"> </span>summary<span class="w"> </span><span class="nv">info</span><span class="w"> </span><span class="o">============================</span>
FAILED<span class="w"> </span>tests/test_validation.py::test_validate_email_with_valid_email<span class="w"> </span>-<span class="w"> </span>assert<span class="w"> </span>False<span class="w"> </span>is<span class="w"> </span><span class="nv">True</span>
<span class="o">==============================</span><span class="w"> </span><span class="m">1</span><span class="w"> </span>failed<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="m">0</span>.03s<span class="w"> </span><span class="o">===============================</span>
</code></pre></div>

<p><strong>Let's parse this section by section</strong>:</p>
<ol>
<li>
<p><strong>The summary line</strong>: <code>FAILED tests/test_validation.py::test_validate_email_with_valid_email - assert False is True</code></p>
<ul>
<li><strong>What this tells us</strong>: The test named <code>test_validate_email_with_valid_email</code> inside the <code>tests/test_validation.py</code> file has failed. The reason is an <code>AssertionError</code>. It even summarizes the failed comparison for us: we asserted that <code>False</code> is <code>True</code>.</li>
</ul>
</li>
<li>
<p><strong>The traceback</strong>:
    ```python
    &gt;       assert result is True
    E       assert False is True</p>
<p>tests/test_validation.py:13: AssertionError
<code>``
-   **What this tells us**: This section pinpoints the exact location of the failure. The</code>&gt;<code>points to line 13 in</code>tests/test_validation.py<code>, which is</code>assert result is True`. This is where our expectation was not met.</p>
</li>
<li>
<p><strong>The assertion introspection</strong>:
    <code>python
    E       assert False is True</code></p>
<ul>
<li><strong>What this tells us</strong>: This is pytest's "magic". It inspects the failed <code>assert</code> statement and shows us the actual values involved. It tells us that the variable <code>result</code> had the value <code>False</code> at the time of the assertion. We were expecting <code>True</code>, but we got <code>False</code>.</li>
</ul>
</li>
</ol>
<p><strong>Root cause identified</strong>: The <code>validate_email</code> function returned <code>False</code> for the input <code>"test@example.org"</code>, but our test expected <code>True</code>.
<strong>Why the current approach can't solve this</strong>: The application logic is flawed; it incorrectly requires all emails to end in <code>.com</code>.
<strong>What we need</strong>: We need to fix the application code to match the requirement (only check for one <code>@</code> symbol).</p>
<h3 id="iteration-2-fixing-the-bug">Iteration 2: Fixing the Bug</h3>
<p>The test has done its job perfectly. It acted as a safety net and caught a regression. Now, let's fix the code.</p>
<p>Revert <code>src/validation.py</code> to its original, correct state:</p>
<div class="codehilite"><pre><span></span><code><span class="c1"># src/validation.py (fixed)</span>

<span class="k">def</span><span class="w"> </span><span class="nf">validate_email</span><span class="p">(</span><span class="n">email</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Checks if the provided string is a valid email address.</span>
<span class="sd">    A valid email must contain exactly one &#39;@&#39; symbol.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">email</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="s2">&quot;@&quot;</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">True</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">False</span>
</code></pre></div>

<p>Now, run <code>pytest</code> one more time.</p>
<div class="codehilite"><pre><span></span><code>pytest
</code></pre></div>

<p>The output is once again a beautiful, clean pass.</p>
<div class="codehilite"><pre><span></span><code><span class="o">=============================</span><span class="w"> </span><span class="nb">test</span><span class="w"> </span>session<span class="w"> </span><span class="nv">starts</span><span class="w"> </span><span class="o">==============================</span>
platform<span class="w"> </span>linux<span class="w"> </span>--<span class="w"> </span>Python<span class="w"> </span><span class="m">3</span>.10.12,<span class="w"> </span>pytest-7.4.2,<span class="w"> </span>pluggy-1.3.0
rootdir:<span class="w"> </span>/path/to/your/pytest_project
collected<span class="w"> </span><span class="m">1</span><span class="w"> </span>item

tests/test_validation.py<span class="w"> </span>.<span class="w">                                               </span><span class="o">[</span><span class="m">100</span>%<span class="o">]</span>

<span class="o">==============================</span><span class="w"> </span><span class="m">1</span><span class="w"> </span>passed<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="m">0</span>.01s<span class="w"> </span><span class="o">===============================</span>
</code></pre></div>

<p>We have completed the cycle: we saw a test fail due to a bug, we used the test's output to diagnose the bug, and we verified our fix by running the test again.</p>
<h2 id="what-youve-accomplished">What You've Accomplished</h2>
<h2 id="what-youve-accomplished_1">What You've Accomplished</h2>
<p>In a very short time, you have learned and practiced the fundamental workflow of testing with pytest. This cycle is the foundation upon which all other testing techniques are built.</p>
<p>Let's review what you now know how to do:</p>
<ul>
<li><strong>Set up a project:</strong> You can create a clean project structure with separate source and test directories.</li>
<li><strong>Install and manage pytest:</strong> You can set up a virtual environment and install pytest into it.</li>
<li><strong>Write a test:</strong> You understand pytest's discovery rules (<code>test_*.py</code> files and <code>test_*</code> functions) and how to use the <code>assert</code> statement to check for expected outcomes.</li>
<li><strong>Run tests:</strong> You can execute your entire test suite from the command line with a single <code>pytest</code> command.</li>
<li><strong>Interpret results:</strong> You can read the output for both passing (<code>.</code>) and failing (<code>F</code>) tests.</li>
<li><strong>Debug with test output:</strong> Most importantly, you can use pytest's detailed failure reports‚Äîincluding the summary, traceback, and assertion introspection‚Äîto quickly find and fix bugs in your code.</li>
</ul>
<p>You have built a solid foundation. In the next chapter, we will expand on this by writing more tests for our <code>validate_email</code> function to cover edge cases and invalid inputs, and we'll learn how to keep our tests clean and organized as they grow.</p>
        </div>
        <div class="footer">
            Generated on 2025-11-24 14:31:15 | Made with ‚ù§Ô∏è by GitHub Pages Generator
        </div>
    </div>
    <script>
        // Syntax highlighting for code blocks
        document.addEventListener('DOMContentLoaded', (event) => {
            // Highlight code blocks
            document.querySelectorAll('pre code').forEach((block) => {
                hljs.highlightElement(block);
            });
            
            // Add copy buttons to code blocks
            document.querySelectorAll('pre').forEach((pre) => {
                const button = document.createElement('button');
                button.className = 'copy-btn';
                button.textContent = 'Copy';
                
                button.addEventListener('click', () => {
                    const code = pre.querySelector('code').textContent;
                    navigator.clipboard.writeText(code).then(() => {
                        button.textContent = 'Copied!';
                        button.classList.add('copied');
                        setTimeout(() => {
                            button.textContent = 'Copy';
                            button.classList.remove('copied');
                        }, 2000);
                    }).catch(err => {
                        console.error('Failed to copy:', err);
                        button.textContent = 'Error';
                        setTimeout(() => {
                            button.textContent = 'Copy';
                        }, 2000);
                    });
                });
                
                pre.appendChild(button);
            });
        });
    </script>
</body>
</html>